<template>
  <c-logout-button></c-logout-button>

  <lightning-card title="Admin Panel â€“ User Accounts" icon-name="standard:contact">
    <div class="slds-p-around_medium">

      <lightning-input 
        label="Search by name" 
        onchange={handleSearchChange}
        value={searchKey}
        class="slds-m-bottom_small">
      </lightning-input>

      <template if:true={filteredUsers.length}>
        <lightning-datatable
          key-field="Id"
          data={filteredUsers}
          columns={columns}
          hide-checkbox-column
          onsave={handleSave}
          onsort={handleSort}
          sorted-by={sortBy}
          sorted-direction={sortDirection}
          draft-values={draftValues}
          class="slds-m-top_medium">
        </lightning-datatable>
      </template>

      <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
      </template>

      <template if:true={error}>
        <p class="slds-text-color_error">Error: {error}</p>
      </template>
    </div>
  </lightning-card>
</template>
