<template>
  <div class="stats-container">
    <div class="logout-row">
      <c-logout-button></c-logout-button>
    </div>

    <lightning-card title="Control Question Stats" icon-name="utility:chart" class="stats-card">
      <div class="slds-p-around_medium">
        <template if:true={hasSurveys}>
          <lightning-combobox
            name="survey"
            label="Choose the survey"
            value={selectedSurveyId}
            placeholder="Choose the survey"
            options={surveyOptions}
            onchange={handleSurveyChange}>
          </lightning-combobox>
        </template>
        <template if:true={isEmpty}>
          <p class="slds-text-color_weak">
            No control data available.
          </p>
        </template>
      </div>

      <div class="slds-p-around_medium chart-container" style="height:300px;">
        <template if:true={showChart}>
        <canvas class="chart-canvas"></canvas>
        </template>
        <template if:true={showNoDataMessage}>
          <p class="slds-text-color_weak slds-m-top_medium">
            No control data available.
          </p>
        </template>
      </div>
    </lightning-card>
  </div>
</template>
